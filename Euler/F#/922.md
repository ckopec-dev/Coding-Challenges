# Euler Problem 922 Solution in F#

Let me solve this step by step.

First, let me understand what Euler Problem 922 is asking for. Looking at the problem, it appears to be about finding the sum of all numbers that can be expressed as the sum of the fifth powers of their digits.

```fsharp
let solveEuler922() =
    // Function to get digits of a number
    let getDigits n =
        let rec loop num acc =
            if num = 0 then acc
            else loop (num / 10) (num % 10 :: acc)
        loop n []
    
    // Function to check if a number equals sum of fifth powers of its digits
    let isSumOfFifthPowers n =
        let digits = getDigits n
        let sumOfFifthPowers = digits |> List.map (fun d -> int64 (d ** 5.0)) |> List.sum
        sumOfFifthPowers = int64 n
    
    // Find all numbers that satisfy the condition
    // We need to determine a reasonable upper bound
    // For a d-digit number, the maximum sum of fifth powers is d * 9^5
    // We need this to be >= the number itself
    
    let maxPossible = 10000000  // Reasonable upper bound
    
    [1..maxPossible]
    |> List.filter isSumOfFifthPowers
    |> List.sum

// Alternative approach with better upper bound calculation
let solveEuler922Optimized() =
    // Calculate upper bound more precisely
    let rec getNumDigits n = 
        if n < 10 then 1 
        else 1 + getNumDigits (n / 10)
    
    let maxSumForDigits d = 
        let maxDigit = 9
        let maxDigitFifth = maxDigit ** 5
        int64 d * maxDigitFifth
    
    // Find upper bound where number of digits * 9^5 >= number
    let upperBound = 
        let rec findBound n =
            if getNumDigits n * 9 ** 5 >= n then n
            else findBound (n * 10)
        findBound 10
    
    // Function to get digits of a number
    let getDigits n =
        let rec loop num acc =
            if num = 0 then acc
            else loop (num / 10) (num % 10 :: acc)
        loop n []
    
    // Function to check if a number equals sum of fifth powers of its digits
    let isSumOfFifthPowers n =
        let digits = getDigits n
        let sumOfFifthPowers = digits |> List.map (fun d -> int64 (d ** 5.0)) |> List.sum
        sumOfFifthPowers = int64 n
    
    // Find all numbers that satisfy the condition
    [2..upperBound]  // Start from 2 since 1^5 = 1, which is trivial
    |> List.filter isSumOfFifthPowers
    |> List.sum

// Even more efficient approach
let solveEuler922Efficient() =
    // Precompute fifth powers of digits 0-9
    let fifthPowers = [0..9] |> List.map (fun d -> int64 (d ** 5.0))
    
    // Function to compute sum of fifth powers of digits
    let sumOfFifthPowersOfDigits n =
        let rec loop num acc =
            if num = 0 then acc
            else loop (num / 10) (acc + fifthPowers.[num % 10])
        loop n 0
    
    // Find upper bound
    // For 7-digit numbers, max sum = 7 * 9^5 = 7 * 59049 = 413343
    // For 8-digit numbers, max sum = 8 * 9^5 = 8 * 59049 = 472392
    // Since 10^7 = 10000000 > 413343, we can bound our search
    let upperBound = 10000000
    
    [2..upperBound]
    |> List.filter (fun n -> sumOfFifthPowersOfDigits n = int64 n)
    |> List.sum

// Execute the solution
let result = solveEuler922Efficient()
printfn "The sum of all numbers that are equal to the sum of the fifth powers of their digits is: %d" result
```

Let me also provide a cleaner, more readable version:

```fsharp
let euler922() =
    // Precompute fifth powers of digits 0-9
    let fifthPowers = [0..9] |> List.map (fun d -> pown d 5)
    
    // Function to check if a number equals sum of fifth powers of its digits
    let isSumOfFifthPowers n =
        let rec sumDigits num acc =
            if num = 0 then acc
            else sumDigits (num / 10) (acc + fifthPowers.[num % 10])
        sumDigits n 0 = n
    
    // Find all such numbers and sum them
    [2..1000000]  // Start from 2 since 1^5 = 1 is trivial
    |> List.filter isSumOfFifthPowers
    |> List.sum

// Run the solution
let answer = euler922()
printfn "Answer: %d" answer
```

The solution works by:

1. **Precomputing fifth powers**: We calculate 0^5 through 9^5 once and store them
2. **Digit extraction**: For each number, we extract its digits one by one
3. **Sum calculation**: We sum the fifth powers of each digit
4. **Comparison**: We check if this sum equals the original number
5. **Filtering**: We collect all numbers that satisfy the condition
6. **Summation**: We sum all qualifying numbers

The key insight is that we don't need to check very large numbers since the sum of fifth powers grows much slower than the numbers themselves. The upper bound can be determined mathematically, but for practical purposes, checking up to 1,000,000 works fine.

The numbers that equal the sum of fifth powers of their digits are:
- 1 (1^5 = 1) - but we exclude 1 as it's trivial
- 1634 (1^4 + 6^4 + 3^4 + 4^4 = 1 + 1296 + 81 + 256 = 1634)
- 8208 (8^4 + 2^4 + 0^4 + 8^4 = 4096 + 16 + 0 + 4096 = 8208)
- 9474 (9^4 + 4^4 + 7^4 + 4^4 = 6561 + 256 + 2401 + 256 = 9474)

Wait, let me correct this - the problem is about fifth powers, not fourth powers:

```fsharp
let euler922() =
    // Precompute fifth powers of digits 0-9
    let fifthPowers = [0..9] |> List.map (fun d -> pown d 5)
    
    // Function to check if a number equals sum of fifth powers of its digits
    let isSumOfFifthPowers n =
        let rec sumDigits num acc =
            if num = 0 then acc
            else sumDigits (num / 10) (acc + fifthPowers.[num % 10])
        sumDigits n 0 = n
    
    // Find all such numbers and sum them
    [2..1000000]  // Start from 2 since 1^5 = 1 is trivial
    |> List.filter isSumOfFifthPowers
    |> List.sum

let answer = euler922()
printfn "Answer: %d" answer
```

