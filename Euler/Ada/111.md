# Euler Problem 111 Solution in Ada

This problem asks us to find the sum of all 0 to 9 digits that can be used to form 10-digit primes where exactly one digit is repeated 9 times.

Let me break down the approach:
1. Generate all possible 10-digit numbers where exactly one digit appears 9 times
2. Check if these numbers are prime
3. Sum all valid primes

```ada
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;
with Ada.Strings.Unbounded; use Ada.Strings.Unbounded;
with Ada.Containers.Vectors;

procedure Euler_111 is
   
   type Digit is range 0..9;
   type Digit_Vector is array (1..10) of Digit;
   
   -- Function to check if a number is prime
   function Is_Prime(N : in Positive) return Boolean is
      R : Positive;
   begin
      if N = 2 then
         return True;
      elsif N mod 2 = 0 then
         return False;
      else
         R := 3;
         while R * R <= N loop
            if N mod R = 0 then
               return False;
            end if;
            R := R + 2;
         end loop;
         return True;
      end if;
   end Is_Prime;
   
   -- Function to convert digit vector to integer
   function To_Integer(Digits : in Digit_Vector) return Positive is
      Result : Positive := 0;
   begin
      for I in Digits'Range loop
         Result := Result * 10 + Positive(Digits(I));
      end loop;
      return Result;
   end To_Integer;
   
   -- Function to check if a 10-digit number is valid (exactly one digit repeated 9 times)
   function Is_Valid_Number(Digits : in Digit_Vector) return Boolean is
      Count : array (0..9) of Natural := (others => 0);
      Repeated_Digit : Digit := 0;
      Repeated_Count : Natural := 0;
   begin
      -- Count occurrences of each digit
      for I in Digits'Range loop
         Count(Digits(I)) := Count(Digits(I)) + 1;
      end loop;
      
      -- Check if exactly one digit appears 9 times
      for D in 0..9 loop
         if Count(D) = 9 then
            Repeated_Digit := D;
            Repeated_Count := 9;
         elsif Count(D) = 1 then
            -- This is fine, we can have one digit appearing once
            null;
         elsif Count(D) > 1 and Count(D) < 9 then
            -- This is invalid - we can't have multiple digits appearing more than once
            return False;
         end if;
      end loop;
      
      -- Must have exactly one digit repeated 9 times
      return Repeated_Count = 9;
   end Is_Valid_Number;
   
   -- Generate all valid 10-digit numbers and check for primes
   Sum : Positive := 0;
   
   -- We'll iterate through all combinations
   procedure Generate_Valid_Numbers is
      -- This is a simplified approach - we'll generate numbers systematically
      -- where one digit is repeated 9 times and the other is different
      Valid_Numbers : array (1..1000000) of Positive;
      Count : Positive := 0;
      
      -- Generate numbers where digit D is repeated 9 times
      procedure Generate_With_Digit(D : in Digit) is
         -- We need to place this digit 9 times in 10 positions
         -- The remaining position will have a different digit
         -- For each possible position for the different digit:
         for Position in 1..10 loop
            for Other_Digit in 0..9 loop
               if Other_Digit /= D then
                  -- Create a number with D repeated 9 times, and Other_Digit in Position
                  declare
                     Digits : Digit_Vector := (others => D);
                  begin
                     Digits(Position) := Other_Digit;
                     -- Check if this is a valid 10-digit number (doesn't start with 0)
                     if Digits(1) /= 0 then
                        Count := Count + 1;
                        Valid_Numbers(Count) := To_Integer(Digits);
                        -- Check if prime
                        if Is_Prime(Valid_Numbers(Count)) then
                           Sum := Sum + Valid_Numbers(Count);
                        end if;
                     end if;
                  end;
               end if;
            end loop;
         end loop;
      end Generate_With_Digit;
      
   begin
      -- Generate all valid numbers
      for D in 0..9 loop
         Generate_With_Digit(D);
      end loop;
   end Generate_Valid_Numbers;
   
   -- Alternative approach - more systematic
   procedure Solve is
      Test_Numbers : array (1..1000000) of Positive;
      Num_Count : Positive := 0;
      
      -- Generate all valid numbers
      procedure Generate_Numbers is
         -- For each digit 0-9, create 9 positions with that digit repeated
         -- and 1 position with a different digit (0-9)
         -- But skip when the first digit is 0 (not a valid 10-digit number)
      begin
         for D in 0..9 loop  -- The repeated digit
            for Pos in 1..10 loop  -- Position of the different digit
               for Other in 0..9 loop  -- The different digit
                  if Other /= D then
                     -- Create the number
                     declare
                        Digits : Digit_Vector := (others => D);
                     begin
                        Digits(Pos) := Other;
                        -- Check if valid (doesn't start with 0)
                        if Digits(1) /= 0 then
                           Num_Count := Num_Count + 1;
                           Test_Numbers(Num_Count) := To_Integer(Digits);
                        end if;
                     end;
                  end if;
               end loop;
            end loop;
         end loop;
      end Generate_Numbers;
      
      -- Check which ones are prime and sum them
      Total_Sum : Positive := 0;
      
   begin
      Generate_Numbers;
      
      -- Check for primes and sum them
      for I in 1..Num_Count loop
         if Is_Prime(Test_Numbers(I)) then
            Total_Sum := Total_Sum + Test_Numbers(I);
         end if;
      end loop;
      
      Put_Line("Sum of all valid 10-digit primes: ");
      Put(Total_Sum, Width => 0);
      New_Line;
   end Solve;
   
begin
   Solve;
end Euler_111;
```

Wait, let me reconsider this problem more carefully. Looking at the problem statement, I need to find primes where exactly one digit is repeated 9 times, and the other digit is different.

```ada
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;

procedure Euler_111 is
   
   -- Function to check if a number is prime
   function Is_Prime(N : in Positive) return Boolean is
      R : Positive;
   begin
      if N = 2 then
         return True;
      elsif N mod 2 = 0 then
         return False;
      else
         R := 3;
         while R * R <= N loop
            if N mod R = 0 then
               return False;
            end if;
            R := R + 2;
         end loop;
         return True;
      end if;
   end Is_Prime;
   
   -- Function to compute sum of valid primes
   function Compute_Sum return Positive is
      Sum : Positive := 0;
      -- Generate all valid 10-digit numbers where exactly one digit is repeated 9 times
      -- This means we have 9 copies of one digit and 1 copy of another digit
      -- We need to be careful about leading zeros (not valid 10-digit numbers)
   begin
      -- For each digit from 0 to 9 that can be repeated (0-9)
      for Repeat_Digit in 0..9 loop
         -- For each position where the different digit can go (1 to 10)
         for Position in 1..10 loop
            -- For each possible different digit (0 to 9, but not equal to Repeat_Digit)
            for Diff_Digit in 0..9 loop
               if Diff_Digit /= Repeat_Digit then
                  -- Create the 10-digit number
                  declare
                     Number : Positive := 0;
                     Valid_Number : Boolean := True;
                  begin
                     -- Build the number
                     for I in 1..10 loop
                        if I = Position then
                           Number := Number * 10 + Diff_Digit;
                        else
                           Number := Number * 10 + Repeat_Digit;
                        end if;
                     end loop;
                     
                     -- Check if it's a valid 10-digit number (doesn't start with 0)
                     if Number >= 1000000000 then  -- This ensures 10 digits
                        -- Check if prime
                        if Is_Prime(Number) then
                           Sum := Sum + Number;
                        end if;
                     end if;
                  end;
               end if;
            end loop;
         end loop;
      end loop;
      
      return Sum;
   end Compute_Sum;
   
begin
   Put_Line("Euler Problem 111 Solution:");
   Put("Sum of all valid primes: ");
   Put(Compute_Sum, Width => 0);
   New_Line;
end Euler_111;
```

Actually, let me provide a cleaner, more correct solution:

```ada
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;

procedure Euler_111 is
   
   -- Function to check if a number is prime
   function Is_Prime(N : in Positive) return Boolean is
      R : Positive;
   begin
      if N <= 1 then
         return False;
      elsif N = 2 then
         return True;
      elsif N mod 2 = 0 then
         return False;
      else
         R := 3;
         while R * R <= N loop
            if N mod R = 0 then
               return False;
            end if;
            R := R + 2;
         end loop;
         return True;
      end if;
   end Is_Prime;
   
   -- Generate all valid 10-digit numbers where exactly one digit is repeated 9 times
   function Solve return Positive is
      Sum : Positive := 0;
      Valid_Count : Positive := 0;
   begin
      -- For each possible repeated digit (0-9)
      for Repeat_Digit in 0..9 loop
         -- For each possible position for the different digit (1-10)
         for Pos in 1..10 loop
            -- For each possible different digit (0-9, but not the same as repeat digit)
            for Diff_Digit in 0..9 loop
               if Diff_Digit /= Repeat_Digit then
                  -- Build the 10-digit number
                  declare
                     Number : Positive := 0;
                  begin
                     -- Create the number with Repeat_Digit repeated 9 times
                     -- and Diff_Digit in position Pos
                     for I in 1..10 loop
                        if I = Pos then
                           Number := Number * 10 + Diff_Digit;
                        else
                           Number := Number * 10 + Repeat_Digit;
                        end if;
                     end loop;
                     
                     -- Only count numbers that are valid 10-digit numbers
                     -- (i.e., not starting with 0)
                     if Number >= 1000000000 then  -- 10-digit number
                        -- Check if prime
                        if Is_Prime(Number) then
                           Sum := Sum + Number;
                           Valid_Count := Valid_Count + 1;
                        end if;
                     end if;
                  end;
               end if;
            end loop;
         end loop;
      end loop;
      
      return Sum;
   end Solve;
   
begin
   Put_Line("Euler Problem 111 Solution:");
   Put("Sum of all valid 10-digit primes: ");
   Put(Solve, Width => 0);
   New_Line;
end Euler_111;
```

