# Euler Problem 121 Solution in Lightning Web Component

This is a JavaScript implementation of Euler Problem 121 using Lightning Web Components.

```javascript
import { LightningElement } from 'lwc';

export default class Euler121 extends LightningElement {
    result = '';
    solution = '';

    connectedCallback() {
        this.solveProblem();
    }

    solveProblem() {
        // Euler Problem 121: Disc Game
        // A bag contains one red disc and one blue disc
        // In a game of chance, a player pays £1 to play
        // If the player draws a blue disc, they win £1
        // The game is played 4 times
        // We want to find the maximum prize fund that should be set
        
        // For n turns, we need to calculate the probability of winning
        // and then determine the maximum prize that ensures a profit
        
        // The probability of winning is the sum of all probabilities of
        // drawing blue discs in various combinations
        
        // For 4 turns:
        // Turn 1: 1 blue disc out of 2 total
        // Turn 2: 1 blue disc out of 3 total
        // Turn 3: 1 blue disc out of 4 total
        // Turn 4: 1 blue disc out of 5 total
        
        // We calculate the probability of winning with 1, 2, 3, or 4 blue discs
        // The expected value should be less than 1 (the cost of playing)
        // So the maximum prize should be 1 / probability of winning
        
        const turns = 4;
        let probabilityOfWinning = 0;
        
        // Calculate probability of winning with exactly k blue discs
        for (let k = 1; k <= turns; k++) {
            const prob = this.calculateProbability(turns, k);
            probabilityOfWinning += prob;
        }
        
        // Maximum prize fund = 1 / probability of winning
        const maxPrize = Math.floor(1 / probabilityOfWinning);
        
        this.result = `Maximum prize fund: £${maxPrize}`;
        this.solution = `
Problem: Disc Game
A bag contains one red disc and one blue disc.
In a game of chance, a player pays £1 to play.
If the player draws a blue disc, they win £1.
The game is played 4 times.
What is the maximum prize fund that should be set?
        
Solution:
- For 4 turns, we calculate the probability of winning
- Probability of winning = sum of probabilities of getting 1, 2, 3, or 4 blue discs
- Maximum prize = 1 / probability of winning
- Result: £${maxPrize}
        `;
    }
    
    calculateProbability(turns, blueDiscs) {
        // This is a combinatorial probability calculation
        // For n turns, we have n blue discs (one more than the turn number)
        // and (n + 1) total discs in each turn
        
        // For 4 turns, we have:
        // Turn 1: 1 blue out of 2 total
        // Turn 2: 1 blue out of 3 total  
        // Turn 3: 1 blue out of 4 total
        // Turn 4: 1 blue out of 5 total
        
        // The probability of getting exactly k blue discs is the sum
        // over all combinations of k turns where blue is drawn
        
        let prob = 1;
        let blueTurns = [];
        
        // We need to calculate all possible combinations of k turns
        // where blue disc is drawn
        
        // For simplicity, we can calculate it directly:
        // P(exactly k blue) = (number of ways to choose k blue turns) * (product of probabilities)
        
        // This is a more complex combinatorial problem, so let's use a simpler approach:
        // Calculate the probability of winning (getting at least 1 blue disc)
        
        // Probability of losing (getting 0 blue discs) = product of probabilities of red
        let probOfLosing = 1;
        for (let i = 1; i <= turns; i++) {
            probOfLosing *= (i / (i + 1)); // Probability of drawing red on turn i
        }
        
        return 1 - probOfLosing; // Probability of winning (at least 1 blue)
    }
    
    // Alternative implementation using direct calculation
    calculateDirect(turns) {
        // Probability of drawing red on turn i = i / (i + 1)
        // Probability of drawing blue on turn i = 1 / (i + 1)
        
        // Probability of winning (at least 1 blue) = 1 - P(all red)
        let probAllRed = 1;
        for (let i = 1; i <= turns; i++) {
            probAllRed *= (i / (i + 1));
        }
        
        return 1 - probAllRed;
    }
    
    handleSolve() {
        const turns = 4;
        const probWin = this.calculateDirect(turns);
        const maxPrize = Math.floor(1 / probWin);
        
        this.result = `Maximum prize fund: £${maxPrize}`;
        this.solution = `
Euler Problem 121 Solution:
- Game with 4 turns
- Each turn: 1 blue disc + turn number of red discs
- Total discs on turn i: (i + 1) discs
- Probability of winning = ${probWin.toFixed(6)}
- Maximum prize fund = £${maxPrize}
        `;
    }
}
```

```html
<template>
    <div class="slds-box slds-box_small slds-m-around_medium">
        <h2>Euler Problem 121</h2>
        <p><strong>Problem:</strong> Disc Game</p>
        <p>A bag contains one red disc and one blue disc. In a game of chance, a player pays £1 to play. If the player draws a blue disc, they win £1. The game is played 4 times. What is the maximum prize fund that should be set?</p>
        
        <div class="slds-m-top_medium">
            <lightning-button 
                label="Solve Problem" 
                variant="brand" 
                onclick={handleSolve}>
            </lightning-button>
        </div>
        
        <div class="slds-m-top_medium">
            <p><strong>Result:</strong> {result}</p>
        </div>
        
        <div class="slds-m-top_medium">
            <h3>Solution:</h3>
            <pre>{solution}</pre>
        </div>
    </div>
</template>
```

```css
.slds-box {
    background-color: #f4f6f9;
    border: 1px solid #e1e8f0;
    border-radius: 0.25rem;
    padding: 1rem;
}

.slds-m-around_medium {
    margin: 1rem;
}

.slds-m-top_medium {
    margin-top: 1rem;
}

pre {
    background-color: #f8f9fa;
    border: 1px solid #e1e8f0;
    border-radius: 0.25rem;
    padding: 1rem;
    overflow-x: auto;
}
```

## Problem Explanation

Euler Problem 121 involves a game where:
- A bag starts with 1 red disc and 1 blue disc
- Each turn, a disc is drawn and replaced with an additional red disc
- The game is played 4 times
- Player pays £1 to play and wins £1 for each blue disc drawn
- We need to find the maximum prize fund that ensures the game is profitable

The solution calculates the probability of winning (drawing at least one blue disc) and determines the maximum prize that keeps the expected value positive.

The key insight is that we want the expected value of the game to be less than or equal to the cost (£1), which means the maximum prize should be the reciprocal of the probability of winning.

