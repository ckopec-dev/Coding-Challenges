# Euler Problem 906 Solution in Lightning Web Component

I'll solve Euler Problem 906 using Lightning Web Components. First, let me explain what the problem is asking for, then provide the LWC implementation.

## Problem Understanding

Euler Problem 906 asks us to find the number of ways to write a number as a sum of powers of 2, where each power can be used at most twice.

## LWC Implementation

### 906Solver.js (Lightning Web Component Controller)

```javascript
import { LightningElement } from 'lwc';

export default class Euler906Solver extends LightningElement {
    number = 1000000;
    result = 0;
    isLoading = false;
    error = '';

    handleCalculate() {
        this.isLoading = true;
        this.error = '';
        
        try {
            // Use setTimeout to avoid blocking the UI
            setTimeout(() => {
                this.result = this.solveEuler906(this.number);
                this.isLoading = false;
            }, 0);
        } catch (error) {
            this.error = error.message;
            this.isLoading = false;
        }
    }

    solveEuler906(n) {
        // This is a dynamic programming solution for the problem
        // We need to count representations of n as sum of powers of 2
        // where each power can be used at most twice
        
        // Precompute powers of 2 up to n
        const powers = [];
        let power = 1;
        while (power <= n) {
            powers.push(power);
            power *= 2;
        }
        
        // dp[i][j] represents number of ways to make sum i using first j powers
        // But since each power can be used at most twice, we need a different approach
        
        // Use dynamic programming with memoization
        const memo = new Map();
        
        function countWays(target, powerIndex) {
            if (target === 0) return 1;
            if (target < 0 || powerIndex >= powers.length) return 0;
            
            const key = `${target}-${powerIndex}`;
            if (memo.has(key)) return memo.get(key);
            
            const currentPower = powers[powerIndex];
            let ways = 0;
            
            // Use 0, 1, or 2 of the current power
            for (let count = 0; count <= 2 && count * currentPower <= target; count++) {
                ways += countWays(target - count * currentPower, powerIndex + 1);
            }
            
            memo.set(key, ways);
            return ways;
        }
        
        return countWays(n, 0);
    }

    handleNumberChange(event) {
        this.number = parseInt(event.target.value) || 0;
    }

    get formattedResult() {
        return this.result.toLocaleString();
    }
}
```

### 906Solver.html (Lightning Web Component Template)

```html
<template>
    <div class="slds-box slds-box_small slds-theme_default">
        <h2>Euler Problem 906 Solver</h2>
        <p>
            Find the number of ways to write a number as a sum of powers of 2, 
            where each power can be used at most twice.
        </p>
        
        <div class="slds-form-element">
            <label class="slds-form-element__label" for="numberInput">
                Number to solve for:
            </label>
            <div class="slds-form-element__control">
                <input 
                    type="number" 
                    id="numberInput"
                    class="slds-input"
                    value={number}
                    onchange={handleNumberChange}
                    min="1"
                    max="10000000"
                />
            </div>
        </div>
        
        <lightning-button 
            label="Calculate" 
            variant="brand" 
            onclick={handleCalculate}
            disabled={isLoading}
            class="slds-m-top_small">
        </lightning-button>
        
        <template if:true={isLoading}>
            <div class="slds-spinner_container slds-m-top_small">
                <lightning-spinner alternative-text="Loading..." size="medium"></lightning-spinner>
                <p class="slds-assistive-text">Calculating...</p>
            </div>
        </template>
        
        <template if:true={result}>
            <div class="slds-alert slds-alert_success slds-m-top_small" role="alert">
                <h3 class="slds-text-heading_small">Result</h3>
                <p>Number of ways to represent {number} as sum of powers of 2 (each used at most twice):</p>
                <p class="slds-text-heading_large">{formattedResult}</p>
            </div>
        </template>
        
        <template if:true={error}>
            <div class="slds-alert slds-alert_error slds-m-top_small" role="alert">
                <h3 class="slds-text-heading_small">Error</h3>
                <p>{error}</p>
            </div>
        </template>
        
        <div class="slds-m-top_small">
            <h3>Problem Explanation</h3>
            <p>
                This problem asks us to count the number of ways to express a given number n 
                as a sum of powers of 2 (1, 2, 4, 8, 16, ...) where each power can be used at most twice.
            </p>
            <p>
                For example, for n = 5:
                <ul>
                    <li>5 = 4 + 1 (using 4 once, 1 once)</li>
                    <li>5 = 2 + 2 + 1 (using 2 twice, 1 once)</li>
                </ul>
                So there are 2 ways.
            </p>
        </div>
    </div>
</template>
```

### 906Solver.css (Lightning Web Component Styling)

```css
.slds-box {
    padding: 1rem;
}

.slds-text-heading_large {
    font-size: 1.5rem;
    font-weight: 700;
}

.slds-spinner_container {
    text-align: center;
    margin: 1rem 0;
}
```

## How It Works

1. **Problem Approach**: The solution uses dynamic programming with memoization to count the number of ways to represent a number as a sum of powers of 2, where each power can be used at most twice.

2. **Algorithm**:
   - Generate all powers of 2 up to the target number
   - Use recursive function with memoization to count combinations
   - For each power, try using 0, 1, or 2 instances of that power
   - Memoize results to avoid recomputation

3. **LWC Features**:
   - Responsive UI with input validation
   - Loading spinner during computation
   - Error handling
   - Formatted number display
   - Clear problem explanation

## Usage Notes

- The component allows users to input any number (up to 10 million)
- Calculation may take some time for large numbers due to the nature of the problem
- Results are displayed with proper formatting
- The solution handles edge cases and provides error messages

This implementation provides a clean, reusable LWC component that solves Euler Problem 906 with proper error handling and user experience considerations.

