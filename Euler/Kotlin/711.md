# Euler Problem 711 Solution in Kotlin

Let me solve this step by step.

First, let me understand what Euler Problem 711 is asking:
- We need to find the sum of all numbers n ≤ 10^18 that are divisible by 3 and 5, but not by 7
- This is essentially finding numbers that are divisible by 15 (LCM of 3 and 5) but not by 7

## Approach
1. Use inclusion-exclusion principle
2. Find numbers divisible by 15 up to 10^18
3. Subtract numbers divisible by 105 (LCM of 15 and 7) to exclude those divisible by 7
4. Use arithmetic series formulas for efficient calculation

## Solution

```kotlin
fun main() {
    val limit = 1000000000000000L // 10^18
    
    // Numbers divisible by 15 (LCM of 3 and 5)
    val divisibleBy15 = limit / 15
    
    // Numbers divisible by 105 (LCM of 3, 5, and 7)
    val divisibleBy105 = limit / 105
    
    // Sum of arithmetic series: n * (first + last) / 2
    // For numbers divisible by 15: 15 + 30 + 45 + ... + 15 * k
    val sumDivisibleBy15 = 15 * divisibleBy15 * (divisibleBy15 + 1) / 2
    
    // For numbers divisible by 105: 105 + 210 + 315 + ... + 105 * k
    val sumDivisibleBy105 = 105 * divisibleBy105 * (divisibleBy105 + 1) / 2
    
    // Final answer: sum of numbers divisible by 15 but not by 7
    val result = sumDivisibleBy15 - sumDivisibleBy105
    
    println(result)
}
```

## Explanation

The solution uses the inclusion-exclusion principle:

1. **Find numbers divisible by both 3 and 5**: These are numbers divisible by 15 (LCM(3,5) = 15)
2. **Exclude numbers divisible by 7**: Among those divisible by 15, we need to remove numbers that are also divisible by 7
3. **Numbers divisible by both 15 and 7**: These are numbers divisible by 105 (LCM(15,7) = 105)

Using arithmetic series formulas:
- Sum of multiples of 15 up to limit: 15 × (1 + 2 + ... + k) = 15 × k × (k + 1) / 2
- Sum of multiples of 105 up to limit: 105 × (1 + 2 + ... + k) = 105 × k × (k + 1) / 2

Where k = limit / 15 and k = limit / 105 respectively.

The final answer is: sum of multiples of 15 - sum of multiples of 105

```kotlin
fun main() {
    val limit = 1000000000000000L // 10^18
    
    // Count of multiples of 15
    val count15 = limit / 15
    // Sum of multiples of 15
    val sum15 = 15 * count15 * (count15 + 1) / 2
    
    // Count of multiples of 105  
    val count105 = limit / 105
    // Sum of multiples of 105
    val sum105 = 105 * count105 * (count105 + 1) / 2
    
    // Final result
    val result = sum15 - sum105
    
    println(result)
}
```

