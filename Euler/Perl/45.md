# Euler Problem 45 Solution in Perl

Euler Problem 45 asks us to find the next triangle number that is also pentagonal and hexagonal after 40755.

Let me break down the approach:
- Triangle numbers: T(n) = n(n+1)/2
- Pentagonal numbers: P(n) = n(3n-1)/2  
- Hexagonal numbers: H(n) = n(2n-1)

Since every hexagonal number is also a triangle number, we only need to find numbers that are both hexagonal and pentagonal.

```perl
#!/usr/bin/perl
use strict;
use warnings;

sub triangle {
    my $n = shift;
    return $n * ($n + 1) / 2;
}

sub pentagonal {
    my $n = shift;
    return $n * (3 * $n - 1) / 2;
}

sub hexagonal {
    my $n = shift;
    return $n * (2 * $n - 1);
}

# Find the next number after 40755 that is triangle, pentagonal, and hexagonal
my $start_n = 144;  # Since H(143) = 40755, we start from 144
my $found = 0;

while (!$found) {
    my $hex = hexagonal($start_n);
    
    # Check if this hexagonal number is also pentagonal
    # For pentagonal number P(n) = n(3n-1)/2 = hex
    # We need to solve: 3n² - n = 2 * hex
    # Which gives us: 3n² - n - 2*hex = 0
    
    my $discriminant = 1 + 24 * $hex;
    my $sqrt_disc = int(sqrt($discriminant));
    
    if ($sqrt_disc * $sqrt_disc == $discriminant) {
        # Check if the solution is an integer
        my $n = (1 + $sqrt_disc) / 6;
        if ($n == int($n)) {
            print "Found: $hex\n";
            print "Triangle: T(" . int(sqrt(2 * $hex)) . ") = $hex\n";
            print "Pentagonal: P(" . int($n) . ") = $hex\n";
            print "Hexagonal: H(" . $start_n . ") = $hex\n";
            $found = 1;
        }
    }
    
    $start_n++;
}

# Alternative approach - more direct
print "\nAlternative approach:\n";

my $i = 144;  # Start from where H(143) = 40755
my $hex = hexagonal($i);
my $pent;

while (1) {
    $pent = pentagonal(int((1 + sqrt(1 + 24 * $hex)) / 6));
    
    if ($pent == $hex) {
        print "Answer: $hex\n";
        last;
    }
    
    $i++;
    $hex = hexagonal($i);
}
```

The solution works by:

1. Starting with the next hexagonal number after 40755 (H(144))
2. For each hexagonal number, checking if it's also pentagonal
3. Using the quadratic formula to solve for n in the equation: 3n² - n = 2 × hexagonal_number
4. If the solution is an integer, we've found our answer

The key insight is that every hexagonal number is automatically a triangle number, so we only need to check if it's also pentagonal.

**Answer: 1533776805**

This is the next number after 40755 that is simultaneously triangular, pentagonal, and hexagonal.

